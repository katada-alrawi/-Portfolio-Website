{"ast":null,"code":"import { validateLimitRateParams } from '../validateLimitRateParams/validateLimitRateParams';\n\nconst getLeftTime = (id, throttle, localStorage) => {\n  const lastTime = Number(localStorage.getItem(id) || 0);\n  return throttle - Date.now() + lastTime;\n};\n\nconst removeRecord = (id, leftTime, localStorage) => {\n  setTimeout(() => {\n    localStorage.removeItem(id);\n  }, leftTime);\n};\n\nexport const isLimitRateHit = (localStorage, defaultID, options) => {\n  if (!options.throttle) {\n    return false;\n  }\n\n  validateLimitRateParams(options.throttle, options.id);\n  const id = options.id || defaultID;\n  const leftTime = getLeftTime(id, options.throttle, localStorage);\n\n  if (leftTime > 0) {\n    removeRecord(id, leftTime, localStorage);\n    return true;\n  }\n\n  localStorage.setItem(id, Date.now().toString());\n  removeRecord(id, options.throttle, localStorage);\n  return false;\n};","map":{"version":3,"sources":["/home/dci-student/Desktop/-Portfolio-Website/node_modules/@emailjs/browser/es/utils/isLimitRateHit/isLimitRateHit.js"],"names":["validateLimitRateParams","getLeftTime","id","throttle","localStorage","lastTime","Number","getItem","Date","now","removeRecord","leftTime","setTimeout","removeItem","isLimitRateHit","defaultID","options","setItem","toString"],"mappings":"AAAA,SAASA,uBAAT,QAAwC,oDAAxC;;AACA,MAAMC,WAAW,GAAG,CAACC,EAAD,EAAKC,QAAL,EAAeC,YAAf,KAAgC;AAChD,QAAMC,QAAQ,GAAGC,MAAM,CAACF,YAAY,CAACG,OAAb,CAAqBL,EAArB,KAA4B,CAA7B,CAAvB;AACA,SAAOC,QAAQ,GAAGK,IAAI,CAACC,GAAL,EAAX,GAAwBJ,QAA/B;AACH,CAHD;;AAIA,MAAMK,YAAY,GAAG,CAACR,EAAD,EAAKS,QAAL,EAAeP,YAAf,KAAgC;AACjDQ,EAAAA,UAAU,CAAC,MAAM;AACbR,IAAAA,YAAY,CAACS,UAAb,CAAwBX,EAAxB;AACH,GAFS,EAEPS,QAFO,CAAV;AAGH,CAJD;;AAKA,OAAO,MAAMG,cAAc,GAAG,CAACV,YAAD,EAAeW,SAAf,EAA0BC,OAA1B,KAAsC;AAChE,MAAI,CAACA,OAAO,CAACb,QAAb,EAAuB;AACnB,WAAO,KAAP;AACH;;AACDH,EAAAA,uBAAuB,CAACgB,OAAO,CAACb,QAAT,EAAmBa,OAAO,CAACd,EAA3B,CAAvB;AACA,QAAMA,EAAE,GAAGc,OAAO,CAACd,EAAR,IAAca,SAAzB;AACA,QAAMJ,QAAQ,GAAGV,WAAW,CAACC,EAAD,EAAKc,OAAO,CAACb,QAAb,EAAuBC,YAAvB,CAA5B;;AACA,MAAIO,QAAQ,GAAG,CAAf,EAAkB;AACdD,IAAAA,YAAY,CAACR,EAAD,EAAKS,QAAL,EAAeP,YAAf,CAAZ;AACA,WAAO,IAAP;AACH;;AACDA,EAAAA,YAAY,CAACa,OAAb,CAAqBf,EAArB,EAAyBM,IAAI,CAACC,GAAL,GAAWS,QAAX,EAAzB;AACAR,EAAAA,YAAY,CAACR,EAAD,EAAKc,OAAO,CAACb,QAAb,EAAuBC,YAAvB,CAAZ;AACA,SAAO,KAAP;AACH,CAdM","sourcesContent":["import { validateLimitRateParams } from '../validateLimitRateParams/validateLimitRateParams';\nconst getLeftTime = (id, throttle, localStorage) => {\n    const lastTime = Number(localStorage.getItem(id) || 0);\n    return throttle - Date.now() + lastTime;\n};\nconst removeRecord = (id, leftTime, localStorage) => {\n    setTimeout(() => {\n        localStorage.removeItem(id);\n    }, leftTime);\n};\nexport const isLimitRateHit = (localStorage, defaultID, options) => {\n    if (!options.throttle) {\n        return false;\n    }\n    validateLimitRateParams(options.throttle, options.id);\n    const id = options.id || defaultID;\n    const leftTime = getLeftTime(id, options.throttle, localStorage);\n    if (leftTime > 0) {\n        removeRecord(id, leftTime, localStorage);\n        return true;\n    }\n    localStorage.setItem(id, Date.now().toString());\n    removeRecord(id, options.throttle, localStorage);\n    return false;\n};\n"]},"metadata":{},"sourceType":"module"}